{"version":3,"sources":["<anon>"],"sourcesContent":["/**\n * @license Highstock JS v11.4.1 (2024-04-04)\n *\n * Indicator series type for Highcharts Stock\n *\n * (c) 2010-2024 Pawe≈Ç Fus\n *\n * License: www.highcharts.com/license\n */\n(function (factory) {\n    if (typeof module === 'object' && module.exports) {\n        factory['default'] = factory;\n        module.exports = factory;\n    } else if (typeof define === 'function' && define.amd) {\n        define('highcharts/indicators/pivot-points', ['highcharts', 'highcharts/modules/stock'], function (Highcharts) {\n            factory(Highcharts);\n            factory.Highcharts = Highcharts;\n            return factory;\n        });\n    } else {\n        factory(typeof Highcharts !== 'undefined' ? Highcharts : undefined);\n    }\n}(function (Highcharts) {\n    'use strict';\n    var _modules = Highcharts ? Highcharts._modules : {};\n    function _registerModule(obj, path, args, fn) {\n        if (!obj.hasOwnProperty(path)) {\n            obj[path] = fn.apply(null, args);\n\n            if (typeof CustomEvent === 'function') {\n                window.dispatchEvent(new CustomEvent(\n                    'HighchartsModuleLoaded',\n                    { detail: { path: path, module: obj[path] } }\n                ));\n            }\n        }\n    }\n    _registerModule(_modules, 'Stock/Indicators/PivotPoints/PivotPointsPoint.js', [_modules['Core/Series/SeriesRegistry.js']], function (SeriesRegistry) {\n        /* *\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var SMAPoint = SeriesRegistry.seriesTypes.sma.prototype.pointClass;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * @private\n         */\n        function destroyExtraLabels(point, functionName) {\n            var props = point.series.pointArrayMap;\n            var prop, i = props.length;\n            SeriesRegistry.seriesTypes.sma.prototype.pointClass.prototype[functionName].call(point);\n            while (i--) {\n                prop = 'dataLabel' + props[i];\n                // S4 dataLabel could be removed by parent method:\n                if (point[prop] && point[prop].element) {\n                    point[prop].destroy();\n                }\n                point[prop] = null;\n            }\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var PivotPointsPoint = /** @class */ (function (_super) {\n            __extends(PivotPointsPoint, _super);\n            function PivotPointsPoint() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            PivotPointsPoint.prototype.destroyElements = function () {\n                destroyExtraLabels(this, 'destroyElements');\n            };\n            // This method is called when removing points, e.g. series.update()\n            PivotPointsPoint.prototype.destroy = function () {\n                destroyExtraLabels(this, 'destroyElements');\n            };\n            return PivotPointsPoint;\n        }(SMAPoint));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return PivotPointsPoint;\n    });\n    _registerModule(_modules, 'Stock/Indicators/PivotPoints/PivotPointsIndicator.js', [_modules['Stock/Indicators/PivotPoints/PivotPointsPoint.js'], _modules['Core/Series/SeriesRegistry.js'], _modules['Core/Utilities.js']], function (PivotPointsPoint, SeriesRegistry, U) {\n        /* *\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var SMAIndicator = SeriesRegistry.seriesTypes.sma;\n        var merge = U.merge, extend = U.extend, defined = U.defined, isArray = U.isArray;\n        /**\n         *\n         *  Class\n         *\n         **/\n        /**\n         * The Pivot Points series type.\n         *\n         * @private\n         * @class\n         * @name Highcharts.seriesTypes.pivotpoints\n         *\n         * @augments Highcharts.Series\n         */\n        var PivotPointsIndicator = /** @class */ (function (_super) {\n            __extends(PivotPointsIndicator, _super);\n            function PivotPointsIndicator() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            PivotPointsIndicator.prototype.toYData = function (point) {\n                return [point.P]; // The rest should not affect extremes\n            };\n            PivotPointsIndicator.prototype.translate = function () {\n                var indicator = this;\n                _super.prototype.translate.apply(indicator);\n                indicator.points.forEach(function (point) {\n                    indicator.pointArrayMap.forEach(function (value) {\n                        if (defined(point[value])) {\n                            point['plot' + value] = (indicator.yAxis.toPixels(point[value], true));\n                        }\n                    });\n                });\n                // Pivot points are rendered as horizontal lines\n                // And last point start not from the next one (as it's the last one)\n                // But from the approximated last position in a given range\n                indicator.plotEndPoint = indicator.xAxis.toPixels(indicator.endPoint, true);\n            };\n            PivotPointsIndicator.prototype.getGraphPath = function (points) {\n                var indicator = this, allPivotPoints = ([[], [], [], [], [], [], [], [], []]), pointArrayMapLength = indicator.pointArrayMap.length;\n                var endPoint = indicator.plotEndPoint, path = [], position, point, pointsLength = points.length, i;\n                while (pointsLength--) {\n                    point = points[pointsLength];\n                    for (i = 0; i < pointArrayMapLength; i++) {\n                        position = indicator.pointArrayMap[i];\n                        if (defined(point[position])) {\n                            allPivotPoints[i].push({\n                                // Start left:\n                                plotX: point.plotX,\n                                plotY: point['plot' + position],\n                                isNull: false\n                            }, {\n                                // Go to right:\n                                plotX: endPoint,\n                                plotY: point['plot' + position],\n                                isNull: false\n                            }, {\n                                // And add null points in path to generate breaks:\n                                plotX: endPoint,\n                                plotY: null,\n                                isNull: true\n                            });\n                        }\n                    }\n                    endPoint = point.plotX;\n                }\n                allPivotPoints.forEach(function (pivotPoints) {\n                    path = path.concat(_super.prototype.getGraphPath.call(indicator, pivotPoints));\n                });\n                return path;\n            };\n            // TODO: Rewrite this logic to use multiple datalabels\n            PivotPointsIndicator.prototype.drawDataLabels = function () {\n                var indicator = this, pointMapping = indicator.pointArrayMap;\n                var currentLabel, pointsLength, point, i;\n                if (indicator.options.dataLabels.enabled) {\n                    pointsLength = indicator.points.length;\n                    // For every Resistance/Support group we need to render labels.\n                    // Add one more item, which will just store dataLabels from\n                    // previous iteration\n                    pointMapping.concat([false]).forEach(function (position, k) {\n                        i = pointsLength;\n                        while (i--) {\n                            point = indicator.points[i];\n                            if (!position) {\n                                // Store S4 dataLabel too:\n                                point['dataLabel' + pointMapping[k - 1]] =\n                                    point.dataLabel;\n                            }\n                            else {\n                                point.y = point[position];\n                                point.pivotLine = position;\n                                point.plotY = point['plot' + position];\n                                currentLabel = point['dataLabel' + position];\n                                // Store previous label\n                                if (k) {\n                                    point['dataLabel' + pointMapping[k - 1]] = point.dataLabel;\n                                }\n                                if (!point.dataLabels) {\n                                    point.dataLabels = [];\n                                }\n                                point.dataLabels[0] = point.dataLabel =\n                                    currentLabel =\n                                        currentLabel && currentLabel.element ?\n                                            currentLabel :\n                                            null;\n                            }\n                        }\n                        _super.prototype.drawDataLabels\n                            .call(indicator);\n                    });\n                }\n            };\n            PivotPointsIndicator.prototype.getValues = function (series, params) {\n                var period = params.period, xVal = series.xData, yVal = series.yData, yValLen = yVal ? yVal.length : 0, placement = this[params.algorithm + 'Placement'], \n                // 0- from, 1- to, 2- R1, 3- R2, 4- pivot, 5- S1 etc.\n                PP = [], xData = [], yData = [];\n                var endTimestamp, slicedXLen, slicedX, slicedY, lastPP, pivot, avg, i;\n                // Pivot Points requires high, low and close values\n                if (xVal.length < period ||\n                    !isArray(yVal[0]) ||\n                    yVal[0].length !== 4) {\n                    return;\n                }\n                for (i = period + 1; i <= yValLen + period; i += period) {\n                    slicedX = xVal.slice(i - period - 1, i);\n                    slicedY = yVal.slice(i - period - 1, i);\n                    slicedXLen = slicedX.length;\n                    endTimestamp = slicedX[slicedXLen - 1];\n                    pivot = this.getPivotAndHLC(slicedY);\n                    avg = placement(pivot);\n                    lastPP = PP.push([endTimestamp]\n                        .concat(avg));\n                    xData.push(endTimestamp);\n                    yData.push(PP[lastPP - 1].slice(1));\n                }\n                // We don't know exact position in ordinal axis\n                // So we use simple logic:\n                // Get first point in last range, calculate visible average range\n                // and multiply by period\n                this.endPoint = slicedX[0] + ((endTimestamp - slicedX[0]) /\n                    slicedXLen) * period;\n                return {\n                    values: PP,\n                    xData: xData,\n                    yData: yData\n                };\n            };\n            PivotPointsIndicator.prototype.getPivotAndHLC = function (values) {\n                var close = values[values.length - 1][3];\n                var high = -Infinity, low = Infinity;\n                values.forEach(function (p) {\n                    high = Math.max(high, p[1]);\n                    low = Math.min(low, p[2]);\n                });\n                var pivot = (high + low + close) / 3;\n                return [pivot, high, low, close];\n            };\n            PivotPointsIndicator.prototype.standardPlacement = function (values) {\n                var diff = values[1] - values[2], avg = [\n                    null,\n                    null,\n                    values[0] + diff,\n                    values[0] * 2 - values[2],\n                    values[0],\n                    values[0] * 2 - values[1],\n                    values[0] - diff,\n                    null,\n                    null\n                ];\n                return avg;\n            };\n            PivotPointsIndicator.prototype.camarillaPlacement = function (values) {\n                var diff = values[1] - values[2], avg = [\n                    values[3] + diff * 1.5,\n                    values[3] + diff * 1.25,\n                    values[3] + diff * 1.1666,\n                    values[3] + diff * 1.0833,\n                    values[0],\n                    values[3] - diff * 1.0833,\n                    values[3] - diff * 1.1666,\n                    values[3] - diff * 1.25,\n                    values[3] - diff * 1.5\n                ];\n                return avg;\n            };\n            PivotPointsIndicator.prototype.fibonacciPlacement = function (values) {\n                var diff = values[1] - values[2], avg = [\n                    null,\n                    values[0] + diff,\n                    values[0] + diff * 0.618,\n                    values[0] + diff * 0.382,\n                    values[0],\n                    values[0] - diff * 0.382,\n                    values[0] - diff * 0.618,\n                    values[0] - diff,\n                    null\n                ];\n                return avg;\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            /**\n             * Pivot points indicator. This series requires the `linkedTo` option to be\n             * set and should be loaded after `stock/indicators/indicators.js` file.\n             *\n             * @sample stock/indicators/pivot-points\n             *         Pivot points\n             *\n             * @extends      plotOptions.sma\n             * @since        6.0.0\n             * @product      highstock\n             * @requires     stock/indicators/indicators\n             * @requires     stock/indicators/pivotpoints\n             * @optionparent plotOptions.pivotpoints\n             */\n            PivotPointsIndicator.defaultOptions = merge(SMAIndicator.defaultOptions, {\n                /**\n                 * @excluding index\n                 */\n                params: {\n                    index: void 0,\n                    period: 28,\n                    /**\n                     * Algorithm used to calculate resistance and support lines based\n                     * on pivot points. Implemented algorithms: `'standard'`,\n                     * `'fibonacci'` and `'camarilla'`\n                     */\n                    algorithm: 'standard'\n                },\n                marker: {\n                    enabled: false\n                },\n                enableMouseTracking: false,\n                dataLabels: {\n                    enabled: true,\n                    format: '{point.pivotLine}'\n                },\n                dataGrouping: {\n                    approximation: 'averages'\n                }\n            });\n            return PivotPointsIndicator;\n        }(SMAIndicator));\n        extend(PivotPointsIndicator.prototype, {\n            nameBase: 'Pivot Points',\n            pointArrayMap: ['R4', 'R3', 'R2', 'R1', 'P', 'S1', 'S2', 'S3', 'S4'],\n            pointValKey: 'P',\n            pointClass: PivotPointsPoint\n        });\n        /* *\n         *\n         *  Registry\n         *\n         * */\n        SeriesRegistry.registerSeriesType('pivotpoints', PivotPointsIndicator);\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /* *\n         *\n         *  API Options\n         *\n         * */\n        /**\n         * A pivot points indicator. If the [type](#series.pivotpoints.type) option is\n         * not specified, it is inherited from [chart.type](#chart.type).\n         *\n         * @extends   series,plotOptions.pivotpoints\n         * @since     6.0.0\n         * @product   highstock\n         * @excluding dataParser, dataURL\n         * @requires  stock/indicators/indicators\n         * @requires  stock/indicators/pivotpoints\n         * @apioption series.pivotpoints\n         */\n        ''; // To include the above in the js output'\n\n        return PivotPointsIndicator;\n    });\n    _registerModule(_modules, 'masters/indicators/pivot-points.src.js', [_modules['Core/Globals.js']], function (Highcharts) {\n\n\n        return Highcharts;\n    });\n}));"],"names":["factory","module","exports","define","amd","Highcharts","undefined","_modules","_registerModule","obj","path","args","fn","hasOwnProperty","apply","CustomEvent","window","dispatchEvent","detail","SeriesRegistry","extendStatics","__extends","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","call","TypeError","String","__","constructor","create","destroyExtraLabels","point","functionName","prop","props","series","pointArrayMap","i","length","seriesTypes","sma","pointClass","element","destroy","_super","PivotPointsPoint","arguments","destroyElements","U","SMAIndicator","merge","extend","defined","isArray","PivotPointsIndicator","toYData","P","translate","indicator","points","forEach","value","yAxis","toPixels","plotEndPoint","xAxis","endPoint","getGraphPath","position","allPivotPoints","pointArrayMapLength","pointsLength","push","plotX","plotY","isNull","pivotPoints","concat","drawDataLabels","currentLabel","pointMapping","options","dataLabels","enabled","k","y","pivotLine","dataLabel","getValues","params","endTimestamp","slicedXLen","slicedX","slicedY","lastPP","avg","period","xVal","xData","yVal","yData","yValLen","placement","algorithm","PP","slice","getPivotAndHLC","values","close","high","Infinity","low","Math","max","min","standardPlacement","diff","camarillaPlacement","fibonacciPlacement","defaultOptions","index","marker","enableMouseTracking","format","dataGrouping","approximation","nameBase","pointValKey","registerSeriesType"],"mappings":"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"}