{"version":3,"sources":["<anon>"],"sourcesContent":["/**\n * @license Highstock JS v11.4.3 (2024-05-22)\n *\n * Indicator series type for Highcharts Stock\n *\n * (c) 2010-2024 Kamil Kulig\n *\n * License: www.highcharts.com/license\n */\n(function (factory) {\n    if (typeof module === 'object' && module.exports) {\n        factory['default'] = factory;\n        module.exports = factory;\n    } else if (typeof define === 'function' && define.amd) {\n        define('highcharts/indicators/regressions', ['highcharts', 'highcharts/modules/stock'], function (Highcharts) {\n            factory(Highcharts);\n            factory.Highcharts = Highcharts;\n            return factory;\n        });\n    } else {\n        factory(typeof Highcharts !== 'undefined' ? Highcharts : undefined);\n    }\n}(function (Highcharts) {\n    'use strict';\n    var _modules = Highcharts ? Highcharts._modules : {};\n    function _registerModule(obj, path, args, fn) {\n        if (!obj.hasOwnProperty(path)) {\n            obj[path] = fn.apply(null, args);\n\n            if (typeof CustomEvent === 'function') {\n                window.dispatchEvent(new CustomEvent(\n                    'HighchartsModuleLoaded',\n                    { detail: { path: path, module: obj[path] } }\n                ));\n            }\n        }\n    }\n    _registerModule(_modules, 'Stock/Indicators/LinearRegression/LinearRegressionIndicator.js', [_modules['Core/Series/SeriesRegistry.js'], _modules['Core/Utilities.js']], function (SeriesRegistry, U) {\n        /**\n         *\n         *  (c) 2010-2024 Kamil Kulig\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var SMAIndicator = SeriesRegistry.seriesTypes.sma;\n        var isArray = U.isArray, extend = U.extend, merge = U.merge;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * Linear regression series type.\n         *\n         * @private\n         * @class\n         * @name Highcharts.seriesTypes.linearregression\n         *\n         * @augments Highcharts.Series\n         */\n        var LinearRegressionIndicator = /** @class */ (function (_super) {\n            __extends(LinearRegressionIndicator, _super);\n            function LinearRegressionIndicator() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Return the slope and intercept of a straight line function.\n             *\n             * @private\n             *\n             * @param {Array<number>} xData\n             * List of all x coordinates in a period.\n             *\n             * @param {Array<number>} yData\n             * List of all y coordinates in a period.\n             *\n             * @return {Highcharts.RegressionLineParametersObject}\n             * Object that contains the slope and the intercept of a straight line\n             * function.\n             */\n            LinearRegressionIndicator.prototype.getRegressionLineParameters = function (xData, yData) {\n                // Least squares method\n                var yIndex = this.options.params.index, getSingleYValue = function (yValue, yIndex) {\n                    return isArray(yValue) ? yValue[yIndex] : yValue;\n                }, xSum = xData.reduce(function (accX, val) {\n                    return val + accX;\n                }, 0), ySum = yData.reduce(function (accY, val) {\n                    return getSingleYValue(val, yIndex) + accY;\n                }, 0), xMean = xSum / xData.length, yMean = ySum / yData.length;\n                var xError, yError, i, formulaNumerator = 0, formulaDenominator = 0;\n                for (i = 0; i < xData.length; i++) {\n                    xError = xData[i] - xMean;\n                    yError = getSingleYValue(yData[i], yIndex) - yMean;\n                    formulaNumerator += xError * yError;\n                    formulaDenominator += Math.pow(xError, 2);\n                }\n                var slope = formulaDenominator ?\n                    formulaNumerator / formulaDenominator : 0; // Don't divide by 0\n                return {\n                    slope: slope,\n                    intercept: yMean - slope * xMean\n                };\n            };\n            /**\n             * Return the y value on a straight line.\n             *\n             * @private\n             *\n             * @param {Highcharts.RegressionLineParametersObject} lineParameters\n             * Object that contains the slope and the intercept of a straight line\n             * function.\n             *\n             * @param {number} endPointX\n             * X coordinate of the point.\n             *\n             * @return {number}\n             * Y value of the point that lies on the line.\n             */\n            LinearRegressionIndicator.prototype.getEndPointY = function (lineParameters, endPointX) {\n                return lineParameters.slope * endPointX + lineParameters.intercept;\n            };\n            /**\n             * Transform the coordinate system so that x values start at 0 and\n             * apply xAxisUnit.\n             *\n             * @private\n             *\n             * @param {Array<number>} xData\n             * List of all x coordinates in a period\n             *\n             * @param {number} xAxisUnit\n             * Option (see the API)\n             *\n             * @return {Array<number>}\n             * Array of transformed x data\n             */\n            LinearRegressionIndicator.prototype.transformXData = function (xData, xAxisUnit) {\n                var xOffset = xData[0];\n                return xData.map(function (xValue) {\n                    return (xValue - xOffset) / xAxisUnit;\n                });\n            };\n            /**\n             * Find the closest distance between points in the base series.\n             * @private\n             * @param {Array<number>} xData list of all x coordinates in the base series\n             * @return {number} - closest distance between points in the base series\n             */\n            LinearRegressionIndicator.prototype.findClosestDistance = function (xData) {\n                var distance, closestDistance, i;\n                for (i = 1; i < xData.length - 1; i++) {\n                    distance = xData[i] - xData[i - 1];\n                    if (distance > 0 &&\n                        (typeof closestDistance === 'undefined' ||\n                            distance < closestDistance)) {\n                        closestDistance = distance;\n                    }\n                }\n                return closestDistance;\n            };\n            // Required to be implemented - starting point for indicator's logic\n            LinearRegressionIndicator.prototype.getValues = function (baseSeries, regressionSeriesParams) {\n                var xData = baseSeries.xData, yData = baseSeries.yData, period = regressionSeriesParams.period, \n                // Format required to be returned\n                indicatorData = {\n                    xData: [],\n                    yData: [],\n                    values: []\n                }, xAxisUnit = this.options.params.xAxisUnit ||\n                    this.findClosestDistance(xData);\n                var lineParameters, i, periodStart, periodEnd, endPointX, endPointY, periodXData, periodYData, periodTransformedXData;\n                // Iteration logic: x value of the last point within the period\n                // (end point) is used to represent the y value (regression)\n                // of the entire period.\n                for (i = period - 1; i <= xData.length - 1; i++) {\n                    periodStart = i - period + 1; // Adjusted for slice() function\n                    periodEnd = i + 1; // (as above)\n                    endPointX = xData[i];\n                    periodXData = xData.slice(periodStart, periodEnd);\n                    periodYData = yData.slice(periodStart, periodEnd);\n                    periodTransformedXData = this.transformXData(periodXData, xAxisUnit);\n                    lineParameters = this.getRegressionLineParameters(periodTransformedXData, periodYData);\n                    endPointY = this.getEndPointY(lineParameters, periodTransformedXData[periodTransformedXData.length - 1]);\n                    // @todo this is probably not used anywhere\n                    indicatorData.values.push({\n                        regressionLineParameters: lineParameters,\n                        x: endPointX,\n                        y: endPointY\n                    });\n                    indicatorData.xData.push(endPointX);\n                    indicatorData.yData.push(endPointY);\n                }\n                return indicatorData;\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            /**\n             * Linear regression indicator. This series requires `linkedTo` option to be\n             * set.\n             *\n             * @sample {highstock} stock/indicators/linear-regression\n             *         Linear regression indicator\n             *\n             * @extends      plotOptions.sma\n             * @since        7.0.0\n             * @product      highstock\n             * @requires     stock/indicators/indicators\n             * @requires     stock/indicators/regressions\n             * @optionparent plotOptions.linearregression\n             */\n            LinearRegressionIndicator.defaultOptions = merge(SMAIndicator.defaultOptions, {\n                params: {\n                    /**\n                     * Unit (in milliseconds) for the x axis distances used to\n                     * compute the regression line parameters (slope & intercept)\n                     * for every range. In Highcharts Stock the x axis values are\n                     * always represented in milliseconds which may cause that\n                     * distances between points are \"big\" integer numbers.\n                     *\n                     * Highcharts Stock's linear regression algorithm (least squares\n                     * method) will utilize these \"big\" integers for finding the\n                     * slope and the intercept of the regression line for each\n                     * period. In consequence, this value may be a very \"small\"\n                     * decimal number that's hard to interpret by a human.\n                     *\n                     * For instance: `xAxisUnit` equaled to `86400000` ms (1 day)\n                     * forces the algorithm to treat `86400000` as `1` while\n                     * computing the slope and the intercept. This may enhance the\n                     * legibility of the indicator's values.\n                     *\n                     * Default value is the closest distance between two data\n                     * points.\n                     *\n                     * In `v9.0.2`, the default value has been changed\n                     * from `undefined` to `null`.\n                     *\n                     * @sample {highstock} stock/plotoptions/linear-regression-xaxisunit\n                     *         xAxisUnit set to 1 minute\n                     *\n                     * @example\n                     * // In Liniear Regression Slope Indicator series `xAxisUnit`is\n                     * // `86400000` (1 day) and period is `3`. There're 3 points in\n                     * // the base series:\n                     *\n                     * data: [\n                     *   [Date.UTC(2020, 0, 1), 1],\n                     *   [Date.UTC(2020, 0, 2), 3],\n                     *   [Date.UTC(2020, 0, 3), 5]\n                     * ]\n                     *\n                     * // This will produce one point in the indicator series that\n                     * // has a `y` value of `2` (slope of the regression line). If\n                     * // we change the `xAxisUnit` to `1` (ms) the value of the\n                     * // indicator's point will be `2.3148148148148148e-8` which is\n                     * // harder to interpert for a human.\n                     *\n                     * @type    {null|number}\n                     * @product highstock\n                     */\n                    xAxisUnit: null\n                },\n                tooltip: {\n                    valueDecimals: 4\n                }\n            });\n            return LinearRegressionIndicator;\n        }(SMAIndicator));\n        extend(LinearRegressionIndicator.prototype, {\n            nameBase: 'Linear Regression Indicator'\n        });\n        SeriesRegistry.registerSeriesType('linearRegression', LinearRegressionIndicator);\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /* *\n         *\n         *  API Options\n         *\n         * */\n        /**\n         * A linear regression series. If the\n         * [type](#series.linearregression.type) option is not specified, it is\n         * inherited from [chart.type](#chart.type).\n         *\n         * @extends   series,plotOptions.linearregression\n         * @since     7.0.0\n         * @product   highstock\n         * @excluding dataParser,dataURL\n         * @requires  stock/indicators/indicators\n         * @requires  stock/indicators/regressions\n         * @apioption series.linearregression\n         */\n        ''; // To include the above in the js output\n\n        return LinearRegressionIndicator;\n    });\n    _registerModule(_modules, 'Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopesIndicator.js', [_modules['Core/Series/SeriesRegistry.js'], _modules['Core/Utilities.js']], function (SeriesRegistry, U) {\n        /**\n         *\n         *  (c) 2010-2024 Kamil Kulig\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var LinearRegressionIndicator = SeriesRegistry.seriesTypes.linearRegression;\n        var extend = U.extend, merge = U.merge;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * The Linear Regression Slope series type.\n         *\n         * @private\n         * @class\n         * @name Highcharts.seriesTypes.linearRegressionSlope\n         *\n         * @augments Highcharts.Series\n         */\n        var LinearRegressionSlopesIndicator = /** @class */ (function (_super) {\n            __extends(LinearRegressionSlopesIndicator, _super);\n            function LinearRegressionSlopesIndicator() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            LinearRegressionSlopesIndicator.prototype.getEndPointY = function (lineParameters) {\n                return lineParameters.slope;\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            /**\n             * Linear regression slope indicator. This series requires `linkedTo`\n             * option to be set.\n             *\n             * @sample {highstock} stock/indicators/linear-regression-slope\n             *         Linear regression slope indicator\n             *\n             * @extends      plotOptions.linearregression\n             * @since        7.0.0\n             * @product      highstock\n             * @requires     stock/indicators/indicators\n             * @requires  stock/indicators/regressions\n             * @optionparent plotOptions.linearregressionslope\n             */\n            LinearRegressionSlopesIndicator.defaultOptions = merge(LinearRegressionIndicator.defaultOptions);\n            return LinearRegressionSlopesIndicator;\n        }(LinearRegressionIndicator));\n        extend(LinearRegressionSlopesIndicator.prototype, {\n            nameBase: 'Linear Regression Slope Indicator'\n        });\n        SeriesRegistry.registerSeriesType('linearRegressionSlope', LinearRegressionSlopesIndicator);\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /* *\n         *\n         *  API Options\n         *\n         * */\n        /**\n         * A linear regression intercept series. If the\n         * [type](#series.linearregressionslope.type) option is not specified, it is\n         * inherited from [chart.type](#chart.type).\n         *\n         * @extends   series,plotOptions.linearregressionslope\n         * @since     7.0.0\n         * @product   highstock\n         * @excluding dataParser,dataURL\n         * @requires  stock/indicators/indicators\n         * @requires  stock/indicators/regressions\n         * @apioption series.linearregressionslope\n         */\n        ''; // To include the above in the js output\n\n        return LinearRegressionSlopesIndicator;\n    });\n    _registerModule(_modules, 'Stock/Indicators/LinearRegressionIntercept/LinearRegressionInterceptIndicator.js', [_modules['Core/Series/SeriesRegistry.js'], _modules['Core/Utilities.js']], function (SeriesRegistry, U) {\n        /**\n         *\n         *  (c) 2010-2024 Kamil Kulig\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var LinearRegressionIndicator = SeriesRegistry.seriesTypes.linearRegression;\n        var extend = U.extend, merge = U.merge;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * The Linear Regression Intercept series type.\n         *\n         * @private\n         * @class\n         * @name Highcharts.seriesTypes.linearRegressionIntercept\n         *\n         * @augments Highcharts.Series\n         */\n        var LinearRegressionInterceptIndicator = /** @class */ (function (_super) {\n            __extends(LinearRegressionInterceptIndicator, _super);\n            function LinearRegressionInterceptIndicator() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            LinearRegressionInterceptIndicator.prototype.getEndPointY = function (lineParameters) {\n                return lineParameters.intercept;\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            /**\n             * Linear regression intercept indicator. This series requires `linkedTo`\n             * option to be set.\n             *\n             * @sample {highstock} stock/indicators/linear-regression-intercept\n             *         Linear intercept slope indicator\n             *\n             * @extends      plotOptions.linearregression\n             * @since        7.0.0\n             * @product      highstock\n             * @requires     stock/indicators/indicators\n             * @requires  stock/indicators/regressions\n             * @optionparent plotOptions.linearregressionintercept\n             */\n            LinearRegressionInterceptIndicator.defaultOptions = merge(LinearRegressionIndicator.defaultOptions);\n            return LinearRegressionInterceptIndicator;\n        }(LinearRegressionIndicator));\n        extend(LinearRegressionInterceptIndicator.prototype, {\n            nameBase: 'Linear Regression Intercept Indicator'\n        });\n        SeriesRegistry.registerSeriesType('linearRegressionIntercept', LinearRegressionInterceptIndicator);\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /* *\n         *\n         *  API Options\n         *\n         * */\n        /**\n         * A linear regression intercept series. If the\n         * [type](#series.linearregressionintercept.type) option is not specified, it is\n         * inherited from [chart.type](#chart.type).\n         *\n         * @extends   series,plotOptions.linearregressionintercept\n         * @since     7.0.0\n         * @product   highstock\n         * @excluding dataParser,dataURL\n         * @requires  stock/indicators/indicators\n         * @requires  stock/indicators/regressions\n         * @apioption series.linearregressionintercept\n         */\n        ''; // To include the above in the js output\n\n        return LinearRegressionInterceptIndicator;\n    });\n    _registerModule(_modules, 'Stock/Indicators/LinearRegressionAngle/LinearRegressionAngleIndicator.js', [_modules['Core/Series/SeriesRegistry.js'], _modules['Core/Utilities.js']], function (SeriesRegistry, U) {\n        /**\n         *\n         *  (c) 2010-2024 Kamil Kulig\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var LinearRegressionIndicator = SeriesRegistry.seriesTypes.linearRegression;\n        var extend = U.extend, merge = U.merge;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * The Linear Regression Angle series type.\n         *\n         * @private\n         * @class\n         * @name Highcharts.seriesTypes.linearRegressionAngle\n         *\n         * @augments Highcharts.Series\n         */\n        var LinearRegressionAngleIndicator = /** @class */ (function (_super) {\n            __extends(LinearRegressionAngleIndicator, _super);\n            function LinearRegressionAngleIndicator() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Convert a slope of a line to angle (in degrees) between\n             * the line and x axis\n             * @private\n             * @param {number} slope of the straight line function\n             * @return {number} angle in degrees\n             */\n            LinearRegressionAngleIndicator.prototype.slopeToAngle = function (slope) {\n                return Math.atan(slope) * (180 / Math.PI); // Rad to deg\n            };\n            LinearRegressionAngleIndicator.prototype.getEndPointY = function (lineParameters) {\n                return this.slopeToAngle(lineParameters.slope);\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            /**\n             * Linear regression angle indicator. This series requires `linkedTo`\n             * option to be set.\n             *\n             * @sample {highstock} stock/indicators/linear-regression-angle\n             *         Linear intercept angle indicator\n             *\n             * @extends      plotOptions.linearregression\n             * @since        7.0.0\n             * @product      highstock\n             * @requires     stock/indicators/indicators\n             * @requires  stock/indicators/regressions\n             * @optionparent plotOptions.linearregressionangle\n             */\n            LinearRegressionAngleIndicator.defaultOptions = merge(LinearRegressionIndicator.defaultOptions, {\n                tooltip: {\n                    pointFormat: '<span style=\"color:{point.color}\">\\u25CF</span>' +\n                        '{series.name}: <b>{point.y}Â°</b><br/>'\n                }\n            });\n            return LinearRegressionAngleIndicator;\n        }(LinearRegressionIndicator));\n        extend(LinearRegressionAngleIndicator.prototype, {\n            nameBase: 'Linear Regression Angle Indicator'\n        });\n        SeriesRegistry.registerSeriesType('linearRegressionAngle', LinearRegressionAngleIndicator);\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /**\n         * A linear regression intercept series. If the\n         * [type](#series.linearregressionangle.type) option is not specified, it is\n         * inherited from [chart.type](#chart.type).\n         *\n         * @extends   series,plotOptions.linearregressionangle\n         * @since     7.0.0\n         * @product   highstock\n         * @excluding dataParser,dataURL\n         * @requires  stock/indicators/indicators\n         * @requires  stock/indicators/regressions\n         * @apioption series.linearregressionangle\n         */\n        ''; // To include the above in the js output\n\n        return LinearRegressionAngleIndicator;\n    });\n    _registerModule(_modules, 'masters/indicators/regressions.src.js', [_modules['Core/Globals.js']], function (Highcharts) {\n\n        // eslint-disable-next-line max-len\n        // eslint-disable-next-line max-len\n\n        return Highcharts;\n    });\n}));"],"names":["factory","module","exports","define","amd","Highcharts","undefined","_modules","_registerModule","obj","path","args","fn","hasOwnProperty","apply","CustomEvent","window","dispatchEvent","detail","SeriesRegistry","U","extendStatics","__extends","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","call","TypeError","String","__","constructor","create","SMAIndicator","seriesTypes","sma","isArray","extend","merge","LinearRegressionIndicator","_super","arguments","getRegressionLineParameters","xData","yData","xError","i","yIndex","options","params","index","getSingleYValue","yValue","xSum","reduce","accX","val","ySum","accY","xMean","length","yMean","formulaNumerator","formulaDenominator","Math","pow","slope","intercept","getEndPointY","lineParameters","endPointX","transformXData","xAxisUnit","xOffset","map","xValue","findClosestDistance","distance","closestDistance","getValues","baseSeries","regressionSeriesParams","periodStart","periodEnd","endPointY","periodXData","periodYData","periodTransformedXData","period","indicatorData","values","slice","push","regressionLineParameters","x","y","defaultOptions","tooltip","valueDecimals","nameBase","registerSeriesType","linearRegression","LinearRegressionSlopesIndicator","LinearRegressionInterceptIndicator","LinearRegressionAngleIndicator","slopeToAngle","PI","atan","pointFormat"],"mappings":"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"}