/**
 * Highcharts JS v11.3.0 (2024-01-10)
 *
 * Arc diagram module
 *
 * (c) 2021 Piotr Madej
 *
 * License: www.highcharts.com/license
 */!function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/arc-diagram",["highcharts","highcharts/modules/sankey"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";var e=t?t._modules:{};function o(t,e,o,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}o(e,"Series/ArcDiagram/ArcDiagramPoint.js",[e["Series/NodesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=e.seriesTypes.sankey.prototype.pointClass,s=o.extend,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isValid=function(){return!0},e}(r);return s(a.prototype,{setState:t.setNodeState}),a}),o(e,"Series/ArcDiagram/ArcDiagramSeries.js",[e["Series/ArcDiagram/ArcDiagramPoint.js"],e["Series/Sankey/SankeyColumnComposition.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],function(t,e,o,n,i,r){var s,a=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),l=this&&this.__rest||function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&0>e.indexOf(n)&&(o[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)0>e.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(o[n[i]]=t[n[i]]);return o},p=i.prototype.symbols,h=n.seriesTypes,d=h.column,u=h.sankey,c=r.extend,f=r.merge,y=r.pick,m=r.relativeLength,g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.createNodeColumns=function(){var t=this,o=this,n=o.chart,i=e.compose([],o);return i.sankeyColumn.maxLength=n.inverted?n.plotHeight:n.plotWidth,i.sankeyColumn.getTranslationFactor=function(e){for(var o,r,s,a=i.slice(),l=t.options.minLinkWidth||0,p=0,h=0,d=1,u=0,c=(n.plotSizeX||0)-(e.options.marker&&e.options.marker.lineWidth||0)-(i.length-1)*e.nodePadding;i.length;){for(p=c/i.sankeyColumn.sum(),o=!1,r=i.length;r--;){s=i[r].getSum()*p*d;var f=Math.min(n.plotHeight,n.plotWidth);s>f?d=Math.min(f/s,d):s<l&&(i.splice(r,1),c-=l,s=l,o=!0),u+=s*(1-d)/2,h=Math.max(h,s)}if(!o)break}return i.length=0,a.forEach(function(t){t.scale=d,i.push(t)}),i.sankeyColumn.maxRadius=h,i.sankeyColumn.scale=d,i.sankeyColumn.additionalSpace=u,p},i.sankeyColumn.offset=function(t,e){for(var r,s=t.series.options.equalNodes,a=i.sankeyColumn.additionalSpace||0,l=o.nodePadding,p=Math.min(n.plotWidth,n.plotHeight,(i.sankeyColumn.maxLength||0)/o.nodes.length-l),h=0;h<i.length;h++){var d=i[h].getSum()*(i.sankeyColumn.scale||0),u=s?p:Math.max(d*e,o.options.minLinkWidth||0);if(r=d?u+l:0,i[h]===t)return{relativeLeft:a+m(t.options.offset||0,r)};a+=r}},o.nodes.forEach(function(t){t.column=0,i.push(t)}),[i]},n.prototype.translateLink=function(t){var e,o,n=t.fromNode,i=t.toNode,r=this.chart,s=this.translationFactor,a=t.options,l=this.options,p=y(a.linkWeight,l.linkWeight,Math.max((t.weight||0)*s*n.scale,this.options.minLinkWidth||0)),h=t.series.options.centeredLinks,d=n.nodeY,u=function(e,o){var n=(e.offset(t,o)||0)*s;return Math.min(e.nodeX+n,e.nodeX+(e.shapeArgs&&e.shapeArgs.height||0)-p)},c=h?n.nodeX+((n.shapeArgs.height||0)-p)/2:u(n,"linksFrom"),f=h?i.nodeX+((i.shapeArgs.height||0)-p)/2:u(i,"linksTo"),m=d,g=p;c>f&&(c=(e=[f,c])[0],f=e[1]),l.reversed&&(c=(o=[f,c])[0],f=o[1],m=(r.plotSizeY||0)-m,g=-g),t.shapeType="path",t.linkBase=[c,c+p,f,f+p];var k=(f+p-c)/Math.abs(f+p-c)*y(l.linkRadius,Math.min(Math.abs(f+p-c)/2,n.nodeY-Math.abs(p)));t.shapeArgs={d:[["M",c,m],["A",(f+p-c)/2,k,0,0,1,f+p,m],["L",f,m],["A",(f-c-p)/2,k-p,0,0,0,c+p,m],["Z"]]},t.dlBox={x:c+(f-c)/2,y:m-k,height:p,width:0},t.tooltipPos=r.inverted?[(r.plotSizeY||0)-t.dlBox.y-p/2,(r.plotSizeX||0)-t.dlBox.x]:[t.dlBox.x,t.dlBox.y+p/2],t.y=t.plotY=1,t.x=t.plotX=1,t.color||(t.color=n.color)},n.prototype.translateNode=function(t,e){var o=this.translationFactor,n=this.chart,i=n.inverted?n.plotWidth:n.plotHeight,r=this.options,s=Math.min(n.plotWidth,n.plotHeight,i/t.series.nodes.length-this.nodePadding),a=t.getSum()*(e.sankeyColumn.scale||0),l=r.equalNodes?s:Math.max(a*o,this.options.minLinkWidth||0),h=Math.round(r.marker&&r.marker.lineWidth||0)%2/2,d=e.sankeyColumn.offset(t,o),c=Math.floor(y(d&&d.absoluteLeft,(e.sankeyColumn.left(o)||0)+(d&&d.relativeLeft||0)))+h,m=f(r.marker,t.options.marker),g=m.symbol,k=m.radius,v=parseInt(r.offset,10)*((n.inverted?n.plotWidth:n.plotHeight)-(Math.floor(this.colDistance*(t.column||0)+(m.lineWidth||0)/2)+h+(e.sankeyColumn.scale||0)*(e.sankeyColumn.maxRadius||0)/2))/100;if(t.sum=a,a){t.nodeX=c,t.nodeY=v;var b=t.options.width||r.width||l,S=t.options.height||r.height||l,x=v;r.reversed&&(x=(n.plotSizeY||0)-v,n.inverted&&(x=(n.plotSizeY||0)-v)),this.mapOptionsToLevel&&(t.dlOptions=u.getDLOptions({level:this.mapOptionsToLevel[t.level],optionsPoint:t.options})),t.plotX=1,t.plotY=1,t.tooltipPos=n.inverted?[(n.plotSizeY||0)-x-S/2,(n.plotSizeX||0)-c-b/2]:[c+b/2,x+S/2],t.shapeType="path",t.shapeArgs={d:p[g||"circle"](c,x-(k||S)/2,k||b,k||S),width:k||b,height:k||S},t.dlBox={x:c+b/2,y:x,height:0,width:0}}else t.dlOptions={enabled:!1}},n.prototype.drawDataLabels=function(){if(this.options.dataLabels){var t=this.options.dataLabels.textPath;d.prototype.drawDataLabels.call(this,this.nodes),this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,d.prototype.drawDataLabels.call(this,this.data),this.options.dataLabels.textPath=t}},n.prototype.pointAttribs=function(e,n){if(e&&e.isNode){var i=o.prototype.pointAttribs.apply(this,arguments);return i.opacity,l(i,["opacity"])}return t.prototype.pointAttribs.apply(this,arguments)},n.prototype.markerAttribs=function(e){return e.isNode?t.prototype.markerAttribs.apply(this,arguments):{}},n.defaultOptions=f(u.defaultOptions,{centeredLinks:!1,offset:"100%",equalNodes:!1,reversed:!1,dataLabels:{linkTextPath:{attributes:{startOffset:"25%"}}},marker:{symbol:"circle",fillOpacity:1,lineWidth:0,states:{}}}),n}(u);return c(g.prototype,{orderNodes:!1}),g.prototype.pointClass=t,n.registerSeriesType("arcdiagram",g),g}),o(e,"masters/modules/arc-diagram.src.js",[],function(){})});