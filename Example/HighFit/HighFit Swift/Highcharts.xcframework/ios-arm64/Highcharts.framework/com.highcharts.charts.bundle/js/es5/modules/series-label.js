!/**
 * Highcharts JS v11.4.3 (2024-05-22)
 *
 * (c) 2009-2024 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/series-label",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";var e=t?t._modules:{};function r(t,e,r,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,r),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}r(e,"Extensions/SeriesLabel/SeriesLabelDefaults.js",[],function(){return{enabled:!0,connectorAllowed:!1,connectorNeighbourDistance:24,format:void 0,formatter:void 0,minFontSize:null,maxFontSize:null,onArea:null,style:{fontSize:"0.8em",fontWeight:"bold"},useHTML:!1,boxesToAvoid:[]}}),r(e,"Extensions/SeriesLabel/SeriesLabelUtilities.js",[],function(){function t(t,e,r,o,a,i){var n=(i-e)*(r-t)-(o-e)*(a-t);return n>0||!(n<0)}function e(e,r,o,a,i,n,s,h){return t(e,r,i,n,s,h)!==t(o,a,i,n,s,h)&&t(e,r,o,a,i,n)!==t(e,r,o,a,s,h)}return{boxIntersectLine:function(t,r,o,a,i,n,s,h){return e(t,r,t+o,r,i,n,s,h)||e(t+o,r,t+o,r+a,i,n,s,h)||e(t,r+a,t+o,r+a,i,n,s,h)||e(t,r,t,r+a,i,n,s,h)},intersectRect:function(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}}}),r(e,"Extensions/SeriesLabel/SeriesLabel.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Templating.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Extensions/SeriesLabel/SeriesLabelDefaults.js"],e["Extensions/SeriesLabel/SeriesLabelUtilities.js"],e["Core/Utilities.js"]],function(t,e,r,o,a,i,n){var s=this&&this.__spreadArray||function(t,e,r){if(r||2==arguments.length)for(var o,a=0,i=e.length;a<i;a++)!o&&a in e||(o||(o=Array.prototype.slice.call(e,0,a)),o[a]=e[a]);return t.concat(o||Array.prototype.slice.call(e))},h=t.animObject,l=e.format,c=r.setOptions,p=o.composed,u=i.boxIntersectLine,d=i.intersectRect,f=n.addEvent,x=n.extend,b=n.fireEvent,m=n.isNumber,g=n.pick,y=n.pushUnique,v=n.syncTimeout;function X(t,e,r,o,a){var i,n,h,l,c,p,f,x=t.chart,b=t.options.label||{},m=g(b.onArea,!!t.area),y=m||b.connectorAllowed,v=x.boxesToAvoid,X=Number.MAX_VALUE,A=Number.MAX_VALUE;for(p=0;v&&p<v.length;p+=1)if(d(v[p],{left:e,right:e+o.width,top:r,bottom:r+o.height}))return!1;for(p=0;p<x.series.length;p+=1){var S=x.series[p],Y=S.interpolatedPoints&&s([],S.interpolatedPoints,!0);if(S.visible&&Y){for(var w=x.plotHeight/10,M=x.plotTop;M<=x.plotTop+x.plotHeight;M+=w)Y.unshift({chartX:x.plotLeft,chartY:M}),Y.push({chartX:x.plotLeft+x.plotWidth,chartY:M});for(f=1;f<Y.length;f+=1){if(Y[f].chartX>=e-16&&Y[f-1].chartX<=e+o.width+16){if(u(e,r,o.width,o.height,Y[f-1].chartX,Y[f-1].chartY,Y[f].chartX,Y[f].chartY))return!1;t===S&&!h&&a&&(h=u(e-16,r-16,o.width+32,o.height+32,Y[f-1].chartX,Y[f-1].chartY,Y[f].chartX,Y[f].chartY))}(y||h)&&(t!==S||m)&&(X=Math.min(X,(l=e+o.width/2-Y[f].chartX)*l+(c=r+o.height/2-Y[f].chartY)*c))}if(!m&&y&&t===S&&(a&&!h||X<Math.pow(b.connectorNeighbourDistance||1,2))){for(f=1;f<Y.length;f+=1)(i=Math.min(Math.pow(e+o.width/2-Y[f].chartX,2)+Math.pow(r+o.height/2-Y[f].chartY,2),Math.pow(e-Y[f].chartX,2)+Math.pow(r-Y[f].chartY,2),Math.pow(e+o.width-Y[f].chartX,2)+Math.pow(r-Y[f].chartY,2),Math.pow(e+o.width-Y[f].chartX,2)+Math.pow(r+o.height-Y[f].chartY,2),Math.pow(e-Y[f].chartX,2)+Math.pow(r+o.height-Y[f].chartY,2)))<A&&(A=i,n=Y[f]);h=!0}}}return(!a||!!h)&&{x:e,y:r,weight:X-(n?A:0),connectorPoint:n}}function A(t){if(this.renderer){var e=this,r=h(e.renderer.globalAnimation).duration;e.labelSeries=[],e.labelSeriesMaxSum=0,e.seriesLabelTimer&&n.clearTimeout(e.seriesLabelTimer),e.series.forEach(function(o){var a=o.options.label||{},i=o.labelBySeries,n=i&&i.closest;a.enabled&&o.visible&&(o.graph||o.area)&&!o.boosted&&e.labelSeries&&(e.labelSeries.push(o),a.minFontSize&&a.maxFontSize&&o.yData&&(o.sum=o.yData.reduce(function(t,e){return(t||0)+(e||0)},0),e.labelSeriesMaxSum=Math.max(e.labelSeriesMaxSum||0,o.sum||0)),"load"===t.type&&(r=Math.max(r,h(o.options.animation).duration)),n&&(void 0!==n[0].plotX?i.animate({x:n[0].plotX+n[1],y:n[0].plotY+n[2]}):i.attr({opacity:0})))}),e.seriesLabelTimer=v(function(){if(e.series&&e.labelSeries){var t,r;e.boxesToAvoid=[],t=e.labelSeries||[],r=e.boxesToAvoid,e.series.forEach(function(t){return(t.points||[]).forEach(function(e){return(e.dataLabels||[]).forEach(function(e){var o=e.getBBox(),a=o.width,i=o.height,n=(e.translateX||0)+(t.xAxis?t.xAxis.pos:t.chart.plotLeft),s=(e.translateY||0)+(t.yAxis?t.yAxis.pos:t.chart.plotTop);r.push({left:n,top:s,right:n+a,bottom:s+i})})})}),t.forEach(function(t){var e=t.options.label||{};t.interpolatedPoints=function(t){if(t.xAxis||t.yAxis){var e,r,o,a,i,n,s=t.points,h=[],l=t.graph||t.area,c=l&&l.element,p=t.chart.inverted,u=t.xAxis,d=t.yAxis,f=p?d.pos:u.pos,x=p?u.pos:d.pos,b=p?u.len:d.len,y=p?d.len:u.len,v=g((t.options.label||{}).onArea,!!t.area),X=d.getThreshold(t.options.threshold),A={},S=p?"chartCenterX":"chartCenterY";if(t.getPointSpline&&c&&c.getPointAtLength&&!v&&s.length<(t.chart.plotSizeX||0)/16){var Y=l.toD&&l.attr("d");for(l.toD&&l.attr({d:l.toD}),a=c.getTotalLength(),r=0;r<a;r+=16){var w=c.getPointAtLength(r),M=p?y-w.y:w.x,L=p?b-w.x:w.y;D({chartX:f+M,chartY:x+L,plotX:M,plotY:L})}Y&&l.attr({d:Y});var E=s[s.length-1],T=E.pos();D({chartX:f+((null==T?void 0:T[0])||0),chartY:x+((null==T?void 0:T[1])||0)})}else{a=s.length;var C=void 0;for(r=0;r<a;r+=1){var E=s[r],P=E.pos()||[],M=P[0],L=P[1],j=E.plotHigh;if(m(M)&&m(L)){var B={plotX:M,plotY:L,chartX:f+M,chartY:x+L};if(v&&(j&&(B.plotY=j,B.chartY=x+j),p?B.chartCenterX=f+y-((j||E.plotY||0)+g(E.yBottom,X))/2:B.chartCenterY=x+((j||L)+g(E.yBottom,X))/2),C&&(o=Math.max(Math.abs(B.chartX-C.chartX),Math.abs(B.chartY-C.chartY)))>16)for(n=1,i=Math.ceil(o/16);n<i;n+=1)D(((e={chartX:C.chartX+(B.chartX-C.chartX)*(n/i),chartY:C.chartY+(B.chartY-C.chartY)*(n/i)})[S]=(C[S]||0)+((B[S]||0)-(C[S]||0))*(n/i),e.plotX=(C.plotX||0)+(M-(C.plotX||0))*(n/i),e.plotY=(C.plotY||0)+(L-(C.plotY||0))*(n/i),e));D(B),C=B}}}return h}function D(t){var e=Math.round((t.plotX||0)/8)+","+Math.round((t.plotY||0)/8);A[e]||(A[e]=1,h.push(t))}}(t),r.push.apply(r,e.boxesToAvoid||[])}),e.series.forEach(function(t){var r=t.options.label;if(r&&(t.xAxis||t.yAxis)){var o,a,i,n,s,c,p,u,d,f,b,m="highcharts-color-"+g(t.colorIndex,"none"),y=!t.labelBySeries,v=r.minFontSize,A=r.maxFontSize,S=e.inverted,Y=S?t.yAxis.pos:t.xAxis.pos,w=S?t.xAxis.pos:t.yAxis.pos,M=e.inverted?t.yAxis.len:t.xAxis.len,L=e.inverted?t.xAxis.len:t.yAxis.len,E=t.interpolatedPoints,T=g(r.onArea,!!t.area),C=[],P=t.xData||[],j=t.labelBySeries;if(T&&!S&&(d=[t.xAxis.toPixels(P[0]),t.xAxis.toPixels(P[P.length-1])],f=Math.min.apply(Math,d),b=Math.max.apply(Math,d)),t.visible&&!t.boosted&&E){if(!j){var B=t.name;if("string"==typeof r.format?B=l(r.format,t,e):r.formatter&&(B=r.formatter.call(t)),t.labelBySeries=j=e.renderer.label(B,0,0,"connector",0,0,r.useHTML).addClass("highcharts-series-label highcharts-series-label-"+t.index+" "+(t.options.className||"")+" "+m),!e.renderer.styledMode){var D="string"==typeof t.color?t.color:"#666666";j.css(x({color:T?e.renderer.getContrast(D):D},r.style||{})),j.attr({opacity:e.renderer.forExport?1:0,stroke:t.color,"stroke-width":1})}v&&A&&j.css({fontSize:v+(t.sum||0)/(t.chart.labelSeriesMaxSum||0)*(A-v)+"px"}),j.attr({padding:0,zIndex:3}).add()}for((i=j.getBBox()).width=Math.round(i.width),p=E.length-1;p>0;p-=1)T?_(n=(null!==(o=E[p].chartCenterX)&&void 0!==o?o:E[p].chartX)-i.width/2,s=(null!==(a=E[p].chartCenterY)&&void 0!==a?a:E[p].chartY)-i.height/2,i)&&(u=X(t,n,s,i)):(_(n=E[p].chartX+3,s=E[p].chartY-i.height-3,i)&&(u=X(t,n,s,i,!0)),u&&C.push(u),_(n=E[p].chartX+3,s=E[p].chartY+3,i)&&(u=X(t,n,s,i,!0)),u&&C.push(u),_(n=E[p].chartX-i.width-3,s=E[p].chartY+3,i)&&(u=X(t,n,s,i,!0)),u&&C.push(u),_(n=E[p].chartX-i.width-3,s=E[p].chartY-i.height-3,i)&&(u=X(t,n,s,i,!0))),u&&C.push(u);if(r.connectorAllowed&&!C.length&&!T)for(n=Y+M-i.width;n>=Y;n-=16)for(s=w;s<w+L-i.height;s+=16)(c=X(t,n,s,i,!0))&&C.push(c);if(C.length){C.sort(function(t,e){return e.weight-t.weight}),u=C[0],(e.boxesToAvoid||[]).push({left:u.x,right:u.x+i.width,top:u.y,bottom:u.y+i.height});var z=Math.sqrt(Math.pow(Math.abs(u.x-(j.x||0)),2)+Math.pow(Math.abs(u.y-(j.y||0)),2));if(z&&t.labelBySeries){var H={opacity:e.renderer.forExport?1:0,x:u.x,y:u.y},N={opacity:1};z<=10&&(N={x:H.x,y:H.y},H={});var U=void 0;y&&(U=h(t.options.animation),U.duration*=.2),t.labelBySeries.attr(x(H,{anchorX:u.connectorPoint&&(u.connectorPoint.plotX||0)+Y,anchorY:u.connectorPoint&&(u.connectorPoint.plotY||0)+w})).animate(N,U),t.options.kdNow=!0,t.buildKDTree();var F=t.searchPoint({chartX:u.x,chartY:u.y},!0);F&&(j.closest=[F,u.x-(F.plotX||0),u.y-(F.plotY||0)])}}else k()}else k()}function _(t,e,r){var o=Math.max(Y,g(f,-1/0)),a=Math.min(Y+M,g(b,1/0));return t>o&&t<=a-r.width&&e>=w&&e<=w+L-r.height}function k(){j&&(t.labelBySeries=j.destroy())}}),b(e,"afterDrawSeriesLabels")}},e.renderer.forExport||!r?0:r)}}function S(t,e,r,o,a){var i,n,s=a&&a.anchorX,h=a&&a.anchorY,l=r/2;return m(s)&&m(h)&&(i=[["M",s,h]],(n=e-h)<0&&(n=-o-n),n<r&&(l=s<t+r/2?n:r-n),h>e+o?i.push(["L",t+l,e+o]):h<e?i.push(["L",t+l,e]):s<t?i.push(["L",t,e+o/2]):s>t+r&&i.push(["L",t+r,e+o/2])),i||[]}return{compose:function(t,e){y(p,"SeriesLabel")&&(f(t,"load",A),f(t,"redraw",A),e.prototype.symbols.connector=S,c({plotOptions:{series:{label:a}}}))}}}),r(e,"masters/modules/series-label.src.js",[e["Core/Globals.js"],e["Extensions/SeriesLabel/SeriesLabel.js"]],function(t,e){return e.compose(t.Chart,t.SVGRenderer),t})});